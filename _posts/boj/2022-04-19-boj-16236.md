---
layout: single
title:  "[ë°±ì¤€] 16236ë²ˆ ì•„ê¸° ìƒì–´"
categories: BOJ
tags: [BFS, Gold]
toc: true
toc_sticky: true
author_profile: false
sidebar:
    nav: "docs"
search: false
---

<br>

# âœ”ï¸ Problem  : [ì•„ê¸° ìƒì–´](https://www.acmicpc.net/problem/16236)

<br>



###### ğŸ’¡ í’€ì´ ê³¼ì •

******************************************************************

**ì‹œë®¬ë ˆì´ì…˜ + BFS + ìš°ì„ ìˆœìœ„ í**

ì‹ ê²½ì¨ì•¼ í•  ì¡°ê±´ì´ ë§ì•„ì„œ í’€ì´í•˜ëŠ”ë° ì‹œê°„ì„ ë§ì´ ì†Œìš”í•œ ë¬¸ì œë‹¤

ê±°ë¦¬ê°€ ê°€ì¥ ê°€ê¹Œìš´ ë¬¼ê³ ê¸°ë¥¼ êµ¬í•˜ëŠ” ê²ƒì„ ë³´ê³  **<span style="color:#2d3748;background-color:#fff5b1">BFS</span>**ë¥¼ ì„ íƒí–ˆê³  

ìš°ì„ ìˆœìœ„ë¥¼ ë”°ì§€ëŠ” ë¶€ë¶„ì´ ìˆì–´ì„œ **<span style="color:blue">ìš°ì„ ìˆœìœ„ í</span>**ë¥¼ ì´ìš©í–ˆë‹¤

ìµœì¢… ì½”ë“œë¥¼ ë´¤ì„ ë•ŒëŠ” ì§„ì§œ ë³„ ê±° ì—†ëŠ” ë°, êµ¬í˜„í•  ë•ŒëŠ” ì—„ì²­ ì• ë¥¼ ë§ì´ ë¨¹ì—ˆë‹¤ ã… ã… 



-------------------

ë¬¸ì œì˜ íë¦„ì€ ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤

1. ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸° ì°¾ê¸° (BFS)
2. ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ ì—†ë‹¤ë©´ ì—„ë§ˆ ìƒì–´ í˜¸ì¶œ
3. ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ ìˆë‹¤ë©´ ë¬¼ê³ ê¸° ì°¾ì•„ê°€ì„œ ë¨¹ê¸°

ğŸ – ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ ì—†ì„ ë•Œê¹Œì§€ 1,2,3ì„ ë°˜ë³µ  (while)

```java
int eat_count =0;
while(true){
	//1. ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸° ì°¾ê³ , ìš°ì„ ìˆœìœ„ íì— ë¬¼ê³ ê¸° ì €ì¥
	bfs(shark);
		
	//2. ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ ì—†ìœ¼ë©´ ì—„ë§ˆ ìƒì–´ í˜¸ì¶œ
	if(pq.isEmpty()) {
		System.out.println(time);
		return;
	}
    
	//3. ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ ìˆë‹¤ë©´ ë¬¼ê³ ê¸° ì°¾ì•„ê°€ì„œ ë¨¹ê¸°	
	CO cur = pq.poll();	//ë¬¼ê³ ê¸° ì°¾ì•„ê°€ê¸°
	time+=cur.distance;	//ì°¾ëŠ”ë° ê±¸ë¦°ì‹œê°„
	
	//ë¬¼ê³ ê¸° ë¨¹ê¸°
	//ë¬¼ê³ ê¸°ë¥¼ ë¨¹ìœ¼ë©´ ê·¸ ì¹¸ì€ ë¹ˆ ì¹¸ì´ ë˜ê³ 
	//ìì‹ ì˜ í¬ê¸°ì™€ ê°™ì€ ìˆ˜ì˜ ë¬¼ê³ ê¸°ë¥¼ ë¨¹ì„ ë•Œ ë§ˆë‹¤ í¬ê¸°ê°€ 1 ì¦ê°€
	map[cur.y][cur.x]=0;	
	if(++eat_count==shark.size) {
		shark.size++;
		eat_count=0;
	}
	//ì•„ê¸° ìƒì–´ ìƒíƒœ ìµœì‹ í™”
	shark=new CO(cur.y,cur.x,shark.size,0);			
	pq.clear(); 	//ë¬¼ê³ ê¸° list ë¹„ìš°ê¸°
}
```

<br>

-----------------------

##### â–ª BFS (ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸° ì°¾ê¸°)

<span style="color:#2d3748;background-color:#fff5b1">4ë°© íƒìƒ‰</span>ì„ ì´ìš©í•˜ì—¬ ê³µê°„ ì „ì²´ë¥¼ íƒìƒ‰í•˜ì—¬ ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ë¥¼ ì°¾ì•„ë‚¸ë‹¤

ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ëŠ” <span style="color:#2d3748;background-color:#fff5b1">ìš°ì„  ìˆœìœ„ í</span>ì— ë„£ì–´ì„œ ìš°ì„  ìˆœìœ„ë¥¼ ì •í•´ì¤€ë‹¤

```java
public static void bfs(CO shark) {
	boolean visit[][]= new boolean[N][N];
	Queue<CO> queue = new LinkedList<>();
	queue.offer(shark);
	visit[shark.y][shark.x]=true;
	
	while(!queue.isEmpty()) {
		CO cur= queue.poll();
				
		for(int d=0;d<4;d++) {
			int nx=cur.x+dx[d];
			int ny=cur.y+dy[d];
			
			if(nx<0||ny<0||nx>=N||ny>=N||visit[ny][nx]) continue;
			
			if(map[ny][nx]>shark.size) continue;
			
			if(map[ny][nx]!=0&&shark.size>map[ny][nx]) {
				pq.offer(new CO(ny,nx,map[ny][nx],cur.distance+1));
			}
			queue.offer(new CO(ny,nx,map[ny][nx],cur.distance+1));
			visit[ny][nx]=true;
		}
	}
}
```

<br>

-------------------

##### â–ª <span style="color:blue">ìš°ì„ ìˆœìœ„ í</span> (ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°)

ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ 2ë§ˆë¦¬ ì´ìƒì¼ ë•Œ ìš°ì„  ìˆœìœ„ê°€ ìƒê¸´ë‹¤ 

<span style="color:#2d3748;background-color:#fff5b1">**ê±°ë¦¬ê°€ ê°€ê¹Œìš´ ğŸ – ê°€ì¥ ìœ„ì— ìˆëŠ” ğŸ – ê°€ì¥ ì™¼ìª½ì— ìˆëŠ”**</span>

```java
static PriorityQueue<CO> pq = new PriorityQueue<CO>(new Comparator<CO>() {
	@Override
	public int compare(CO o1, CO o2) {
		if(o1.distance==o2.distance) {
			if(o1.y==o2.y) 
				return o1.x-o2.x;
			else 
				return o1.y-o2.y;
		}
		else 
			return o1.distance-o2.distance;
	}
});
```

<br>

--------------------

##### â–ª ê²°ê³¼

![image-20220419011053927](../../images/boj/2022-04-19-boj/image-20220419011053927.png)
<br><br>

###### ğŸ“ƒ ì½”ë“œ(java 8)

```java

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Comparator;
import java.util.LinkedList;
import java.util.PriorityQueue;
import java.util.Queue;
import java.util.StringTokenizer;

public class Main {
	static int N;
	static int map[][];
	static int time;
	static int dx[]= {1,-1,0,0};
	static int dy[]= {0,0,1,-1};
	
	static class CO{
		int x,y,size,distance;

		public CO(int y, int x, int size, int distance) {
			super();
			this.x = x;
			this.y = y;
			this.size = size;
			this.distance = distance;
		}

	}
	
	static PriorityQueue<CO> pq = new PriorityQueue<CO>(new Comparator<CO>() {
		@Override
		public int compare(CO o1, CO o2) {
			if(o1.distance==o2.distance) {
				if(o1.y==o2.y) 
					return o1.x-o2.x;
				else
					return o1.y-o2.y;
			}
			else
				return o1.distance-o2.distance;
		}
	});
	
	public static void main(String[] args) throws NumberFormatException, IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		N=Integer.parseInt(br.readLine());
		map=new int[N][N];
		CO shark=null;
		
		for(int i=0;i<N;i++) {
			StringTokenizer st = new StringTokenizer(br.readLine());
			for(int j=0;j<N;j++) {
				map[i][j]=Integer.parseInt(st.nextToken());
				if(map[i][j]==9) {
					shark= new CO(i,j,2,0);
					map[i][j]=0;
				}
			}
		}
		
		int eat_count =0;
	
		while(true){
			//ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸° ì°¾ê¸° (ê±°ë¦¬ê°€ ê°€ì¥ ê°€ê¹Œìš´ê²ƒ, ê°€ì¥ìœ„, ê°€ì¥ì™¼ìª½)
			//bfs íƒìƒ‰ í›„ ìš°ì„ ìˆœìœ„ íì— ë¬¼ê³ ê¸° ì €ì¥
			bfs(shark);
			
			//ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ ì—†ìœ¼ë©´ ì—„ë§ˆ ìƒì–´ í˜¸ì¶œ
			if(pq.isEmpty()) {
				System.out.println(time);
				return;
			}
			
			//ë¬¼ê³ ê¸° ì°¾ì•„ê°€ê¸°
			CO cur = pq.poll();

			//ì°¾ëŠ”ë° ê±¸ë¦°ì‹œê°„
			time+=cur.distance;
			
			//ë¬¼ê³ ê¸° ë¨¹ê¸°
			map[cur.y][cur.x]=0;
			if(++eat_count==shark.size) {
				shark.size++;
				eat_count=0;
			}
			
			//ì•„ê¸° ìƒì–´ ìƒíƒœ ìµœì‹ í™”
			shark=new CO(cur.y,cur.x,shark.size,0);
			
			//ë¬¼ê³ ê¸° list ë¹„ìš°ê¸°
			pq.clear();
		}
	}
	
	
	public static void bfs(CO shark) {
		boolean visit[][]= new boolean[N][N];
		Queue<CO> queue = new LinkedList<>();
		queue.offer(shark);
		visit[shark.y][shark.x]=true;
		
		while(!queue.isEmpty()) {
			CO cur= queue.poll();
			
			for(int d=0;d<4;d++) {
				int nx=cur.x+dx[d];
				int ny=cur.y+dy[d];
				
				if(nx<0||ny<0||nx>=N||ny>=N||visit[ny][nx]) continue;
				
				if(map[ny][nx]>shark.size) continue;
				
				if(map[ny][nx]!=0&&shark.size>map[ny][nx]) {
					pq.offer(new CO(ny,nx,map[ny][nx],cur.distance+1));
				}
				queue.offer(new CO(ny,nx,map[ny][nx],cur.distance+1));
				visit[ny][nx]=true;
			}
		}
	}
}

```

