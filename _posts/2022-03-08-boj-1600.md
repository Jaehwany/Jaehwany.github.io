---
layout: single
title:  "BOJ_1600_ë§ì´ ë˜ê³ í”ˆ ì›ìˆ­ì´"
categories: BOJ
tags: [BFS, Gold4]
toc: true
author_profile: false
sidebar:
    nav: "docs"
search: false
---

<br>

# âœ”ï¸ Problem 

[ë§ì´ ë˜ê³ í”ˆ ì›ìˆ­ì´](https://www.acmicpc.net/problem/1600)

<br>

### ğŸ’¡ í’€ì´ ê³¼ì •

******************************************************************

ì¼ë°˜ì ì¸ BFS ë¬¸ì œ

ë‹¤ë§Œ, ë§ì˜ ëŠ¥ë ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì”ì—¬ íšŸìˆ˜ì— ë”°ë¼ ë°©ë¬¸ì²˜ë¦¬ë¥¼ ë‹¤ë¥´ê²Œ í•´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì—

<span style="color:#2d3748;background-color:#fff5b1">ë°©ë¬¸ì²˜ë¦¬ í•¨ìˆ˜ visitì„ 3ì°¨ì› ë°°ì—´ë¡œ ì„ ì–¸</span>í•´ì„œ ì‚¬ìš©í•´ì•¼í–ˆë‹¤.

<br>

<span style ="background-color:#f1f8ff">[BOJ 7562 ë‚˜ì´íŠ¸ì˜ ì´ë™], [BOJ 2206 ë²½ë¶€ìˆ˜ê³  ì´ë™í•˜ê¸°]</span>

ê¸°ì¡´ì— í’€ì—ˆë˜ ìœ„ ë‘ ë¬¸ì œì™€ ë¹„ìŠ·í•œ ìœ í˜•ì´ì—ˆê¸°ì— ë¬¸ì œë¥¼ ì½ìë§ˆì ì½”ë”©ì„ ë°”ë¡œ ì‹œì‘í•  ìˆ˜ ìˆì—ˆë‹¤.

í•˜ì§€ë§Œ ì œì¶œê³¼ ë™ì‹œì— ê³„ì†ë˜ëŠ” ë©”ëª¨ë¦¬ì´ˆê³¼..

<br>


![ì œì¶œ](../images/2022-03-08-boj-1600/ì œì¶œ.png)
				
						

ë‚˜ëŠ” ìˆœê°„ 3ì°¨ì› ë°°ì—´ì„ ì¨ì„œ ë©”ëª¨ë¦¬ ì´ˆê³¼ê°€ ë‚¬ë‹¤ê³  íŒë‹¨í•˜ê³ 

ê°„ëµí•˜ê²Œ 3ì°¨ì› ë°°ì—´ì˜ ê³µê°„ë³µì¡ë„ë¥¼ ê³„ì‚°í•´ë´¤ë‹¤. 200x200x30 =1200KB

í•˜ì§€ë§Œ, 256MBë¥¼ ì±„ìš°ê¸°ì—ëŠ” í„°ë¬´ë‹ˆ ì—†ì—ˆë‹¤.

<br>

```java
if(cur.k>0) {
	for(int d=0;d<8;d++) {
		int nx=cur.x+dx2[d];
		int ny=cur.y+dy2[d];
					
		if(nx<0||ny<0||nx>=M||ny>=N) continue;
					
		if(!visit[cur.k-1][ny][nx]&&map[ny][nx]==0) {//ì—¬ê¸° ë¶€ë¶„ì—ì„œ cur.k-1ì´ ì•„ë‹Œ cur.kë¥¼ í•´ì¤˜ì„œ ë©”ëª¨ë¦¬ ì´ˆê³¼ê°€ ë‚œê±°ì˜€ë‹¤
			queue.offer(new CO(nx,ny,cur.k-1,cur.move+1));
			visit[cur.k-1][ny][nx]=true;
		}
	}
}
```

ë‹¨ìˆœ ì½”ë”© ì‹¤ìˆ˜ì˜€ë‹¤.

ì´ˆë³´ ì½”ë”©ëŸ¬ ì‘ì• 

<br>

###	ğŸ“ƒ ì½”ë“œ(java 8)

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.LinkedList;
import java.util.Queue;
import java.util.StringTokenizer;

public class Main {
	static int K,M,N;
	static int map[][];
	static boolean visit[][][];
	
	//4ë°© íƒìƒ‰ ì„ ì–¸
	static int dx[]= {1,-1,0,0};
	static int dy[]= {0,0,1,-1};
	
	//ì²´ìŠ¤ 8ë°© íƒìƒ‰ ì„ ì–¸
	static int dx2[]= {1,2,2,1,-1,-2,-2,-1};
	static int dy2[]= {-2,-1,1,2,2,1,-1,-2};
	
	//ì¢Œí‘œ í´ë˜ìŠ¤ ì„ ì–¸
	static class CO{
		int x,y,k,move;
		public CO(int x, int y, int k, int move) {
			super();
			this.x = x; //xì¢Œí‘œ
			this.y = y; //yì¢Œí‘œ
			this.k = k; //ì í”„ ê°€ëŠ¥í•œ íšŸìˆ˜ k
			this.move = move; // ì´ë™í•œ íšŸìˆ˜
		}
	}
	
	public static void main(String[] args) throws NumberFormatException, IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		//ë³€ìˆ˜ ì…ë ¥
		StringTokenizer st;
		K=Integer.parseInt(br.readLine());
		st=new StringTokenizer(br.readLine());
		M=Integer.parseInt(st.nextToken());
		N=Integer.parseInt(st.nextToken());
		
		//ë§µ ì •ë³´ ì…ë ¥
		map= new int[N][M];
		visit=new boolean[K+1][N][M];
		for(int i=0;i<N;i++) {
			st=new StringTokenizer(br.readLine());
			for(int j=0;j<M;j++) {
				map[i][j]=Integer.parseInt(st.nextToken());
			}
		}
		//bfs
		bfs(new CO(0,0,K,0));
	}
	
	static void bfs(CO start){
		Queue<CO> queue = new LinkedList<>();
		queue.offer(start);
		visit[start.k][start.y][start.x]=true;
		
		while(!queue.isEmpty()) {
			CO cur = queue.poll();
			//m-1,n-1ì— ë„ì°©í•˜ë©´ ì´ë™ íšŸìˆ˜ ì¶œë ¥
			if(cur.x==M-1&&cur.y==N-1) {
				System.out.println(cur.move);
				return;
			}
			//ì¸ì ‘í•œ 4ë°© íƒìƒ‰
			for(int d=0;d<4;d++) {
				int nx=cur.x+dx[d];
				int ny=cur.y+dy[d];
				if(nx<0||ny<0||nx>=M||ny>=N) continue;
				if(!visit[cur.k][ny][nx]&&map[ny][nx]==0) {
					queue.offer(new CO(nx,ny,cur.k,cur.move+1));
					visit[cur.k][ny][nx]=true;
				}
			}
			//ì í”„ íšŸìˆ˜ê°€ ë‚¨ì•˜ì„ ë•Œ ì í”„ ê°€ëŠ¥í•œ ê³³ íƒìƒ‰
			if(cur.k>0) {
				for(int d=0;d<8;d++) {
					int nx=cur.x+dx2[d];
					int ny=cur.y+dy2[d];
					
					if(nx<0||ny<0||nx>=M||ny>=N) continue;
					
					if(!visit[cur.k-1][ny][nx]&&map[ny][nx]==0) {
						queue.offer(new CO(nx,ny,cur.k-1,cur.move+1));
						visit[cur.k-1][ny][nx]=true;
					}
				}
			}
			
		}
		//ë„ì°©ì§€ì— ë„ì°©í•˜ì§€ ëª»í–ˆì„ ê²½ìš°
		System.out.println(-1);
	}
	
}
```

